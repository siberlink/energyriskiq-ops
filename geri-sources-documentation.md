# GERI Sources Documentation

## Overview

GERI is the **Global Energy Risk Index**. Expanding regional news sources will increase accuracy, credibility, and predictive power. However, adding sources blindly can introduce noise and dilute signal quality, which is extremely dangerous for an index product.

Sources should be expanded using a **Risk Relevance Framework**, not a geographic checklist.

---

## Strategic Principle

Add sources from **high energy-leverage regions**, not simply "more regions".

GERI should focus on regions that can realistically:

- Move global oil / gas / LNG markets
- Affect transit chokepoints
- Influence supply chains
- Trigger geopolitical escalation

---

## Regional Tiers (By Energy Influence)

### Tier 1 — MUST ADD (High Impact Regions)

These are globally systemic.

#### Russia / Black Sea / Caspian

(Already partially captured via Europe, but should be treated as its own signal cluster.)

**Why Critical:**
- Major gas supply flows
- Ukraine transit risk
- Caspian pipeline system
- Black Sea shipping risk

**Recommended Sources:**
- Russian energy sanctions coverage
- Ukraine energy infrastructure updates
- Black Sea maritime risk

#### China

(EXTREMELY IMPORTANT — most indexes miss this)

**Why Critical:**

China drives:
- LNG demand shocks
- Coal vs gas substitution
- Industrial energy demand
- Supply chain stress
- Rare earth / renewables dependencies

China is often the hidden driver of global energy pricing.

#### United States

(Not just production — policy & exports)

**Why Critical:**
- Largest oil & LNG swing producer
- Strategic reserve releases
- Export regulation
- Sanctions policy driver

#### India

Underrated but rising.

**Why Important:**
- Rapid LNG demand growth
- Russian crude redirection
- Price-sensitive energy consumption

---

### Tier 2 — LNG / Transit Leverage Regions

#### Qatar
Global LNG backbone.

#### Australia
Major LNG exporter.

#### Norway
Europe gas backbone.
(Extremely important for EERI + GERI crossover.)

---

### Tier 3 — Chokepoint Regions (Massive Risk Multipliers)

These regions may produce little energy but control global flows.

#### Egypt / Suez Canal
Transit + LNG

#### Turkey
Pipeline hub between:
- Russia
- Caspian
- Middle East
- Europe

#### Indonesia / Malaysia
Strategic LNG + maritime corridors.

---

### Tier 4 — Emerging Supply Risk Regions

Add later.

#### Venezuela
Sanctions volatility

#### Nigeria
LNG disruptions

#### Algeria
Europe gas backup

---

## Recommended Regional Expansion Priority (Best ROI)

### Phase 1 — Immediate

Add:
- China
- United States
- Russia / Black Sea cluster
- Qatar
- Norway

### Phase 2 — Next 6 Months

Add:
- India
- Australia
- Turkey
- Egypt / Suez

### Phase 3 — Later

Add:
- Africa LNG exporters
- Latin America exporters

---

## Why Expansion Is Critical

### Current Coverage
Supply + geopolitical escalation focus

### What's Needed
Demand-driven shocks (China / India / US policy)

Lag / divergence models become statistically stronger when risk ingestion covers:
- Demand shocks
- Supply shocks
- Transit shocks
- Policy shocks

---

## How Expansion Improves GERI Scientifically

Better region coverage improves:

**Early Signal Detection**
China energy demand shifts often lead LNG price volatility.

**Reduced False Positives**
More regions = better confirmation scoring.

**Better Asset Prediction**
TTF and Brent respond differently depending on regional trigger origin.

---

## Suggested GERI Regional Weighting Model

(Conceptual — strong differentiator)

Instead of equal regional news weighting:

| Region Cluster | Suggested Influence Weight |
|---|---|
| Middle East | 25% |
| Russia / Black Sea | 20% |
| China | 15% |
| United States | 15% |
| Europe Internal | 10% |
| LNG Exporters (Qatar, Australia, Norway) | 10% |
| Emerging Supply Regions | 5% |

---

## Important Warnings

Do NOT expand without:

**Source Quality Filtering**
Not all news = market-relevant.

**Signal Deduplication**
Many sources report the same event.

**Severity Scoring Calibration**
Different regions generate different volatility impact.

---

## Smart Expansion Strategy

(What elite intelligence platforms do)

Add regions only when they:
- Move asset volatility
- Improve predictive correlation
- Improve confirmation score stability

---

## Strategic Recommendation for EnergyRiskIQ

Yes — expand beyond Europe & Middle East.

BUT focus on:
1. **China**
2. **United States**
3. **Russia / Black Sea**
4. **Qatar / Norway LNG clusters**

These four expansions alone would significantly increase GERI credibility and predictive power.

---

## Bonus Insight

Adding China alone often improves:
- LNG volatility detection
- Oil demand cycle detection
- Industrial macro energy demand signals

Most retail intelligence platforms miss this completely.

---

## PART 1 — GERI Global Risk Source Map

This defines:
- Which regions must be monitored
- Which countries inside each region matter
- What type of risk signals originate there
- Which assets each region historically impacts

### Region Cluster Model

GERI should NOT treat regions equally. It should treat them as **risk generators** and **risk transmitters**.

---

### Cluster 1 — Middle East Energy Supply Core

**Countries:** Saudi Arabia, Iran, Iraq, UAE, Qatar, Israel, Yemen (Red Sea shipping)

**Source Types To Monitor:**
- OPEC production decisions
- Strait of Hormuz security
- Sanctions / military escalation
- LNG export disruption
- Shipping attacks

**Primary Asset Influence:**

| Asset | Impact Level |
|---|---|
| Brent Oil | VERY HIGH |
| TTF Gas | HIGH |
| Freight | VERY HIGH |
| VIX | HIGH |
| EUR/USD | MEDIUM |

---

### Cluster 2 — Russia / Black Sea / Caspian Energy Corridor

**Countries:** Russia, Ukraine, Kazakhstan, Georgia, Turkey (pipeline hub)

**Source Types:**
- Pipeline transit disruption
- Sanctions
- Infrastructure sabotage
- Black Sea shipping risk
- Energy payment disputes

**Asset Influence:**

| Asset | Impact Level |
|---|---|
| TTF Gas | EXTREME |
| Brent Oil | HIGH |
| Freight | HIGH |
| EUR/USD | HIGH |
| VIX | MEDIUM |

---

### Cluster 3 — China Demand Shock Generator

**Countries:** China (single most important)

**Source Types:**
- Industrial production energy demand
- LNG import volume changes
- Coal substitution policy
- Economic stimulus programs
- Strategic reserve changes

**Asset Influence:**

| Asset | Impact Level |
|---|---|
| Brent Oil | HIGH |
| TTF | HIGH |
| Freight | HIGH |
| VIX | MEDIUM |

---

### Cluster 4 — United States Supply & Policy Swing Producer

**Sources:**
- LNG export capacity changes
- SPR releases
- Export restrictions
- Shale production data
- Sanctions leadership

**Asset Influence:**

| Asset | Impact Level |
|---|---|
| Brent | HIGH |
| TTF | HIGH |
| VIX | HIGH |
| EUR/USD | MEDIUM |

---

### Cluster 5 — LNG Export Backbone

**Countries:** Qatar, Australia, Norway, Algeria, Nigeria

**Source Types:**
- LNG facility outages
- Weather disruption
- Labor strikes
- Export capacity expansion

**Asset Influence:**

| Asset | Impact Level |
|---|---|
| TTF | EXTREME |
| Brent | MEDIUM |
| Freight | HIGH |

---

### Cluster 6 — Transit Chokepoints

**Regions:** Suez Canal, Panama Canal, Strait of Hormuz, Bab el-Mandeb, Turkish Straits

**Asset Influence:**

| Asset | Impact Level |
|---|---|
| Freight | EXTREME |
| Brent | HIGH |
| TTF | MEDIUM |

---

### Visual Mental Model

GERI should monitor the world like:

**Supply Core → Transit Routes → Demand Centers → Financial Spillover**

---

## PART 2 — Source Weighting Algorithm

This determines how each news event affects the GERI score.

### Step 1 — Event Base Severity Score

Each event gets:

```
Severity = EventMagnitude * EventCredibility * EventPersistence
```

**EventMagnitude** — Measures direct energy impact.

| Event Type | Magnitude |
|---|---|
| Pipeline explosion | 0.9 |
| Major sanctions | 0.8 |
| Military escalation | 0.7 |
| Production cut | 0.6 |
| Policy statement | 0.3 |

**EventCredibility** — Source reliability. Range: 0.5 – 1.0

**EventPersistence** — How long impact is expected to last.

| Duration | Value |
|---|---|
| Short shock | 0.5 |
| Structural change | 1.0 |

---

### Step 2 — Regional Influence Multiplier

```
RegionalScore = Severity * RegionWeight
```

**Suggested Region Weights:**

| Region | Weight |
|---|---|
| Middle East | 0.25 |
| Russia / Black Sea | 0.20 |
| China | 0.15 |
| USA | 0.15 |
| LNG Backbone | 0.15 |
| Transit Chokepoints | 0.10 |

---

### Step 3 — Asset Sensitivity Weight

Each region affects assets differently.

```
AssetImpact = RegionalScore * AssetSensitivity(region, asset)
```

Example:
- Russia → TTF = 1.0
- Russia → Brent = 0.7

---

### Step 4 — Contagion Multiplier

When multiple regions escalate simultaneously:

```
ContagionFactor = 1 + (NumberOfHighSeverityRegions * 0.08)
```

---

### Final GERI Event Impact

```
GERI_Event_Impact =
    Severity
    * RegionWeight
    * AssetTransmissionWeight
    * ContagionFactor
```

---

## PART 3 — Risk Transmission Model

This models HOW risk travels through the system. This is a huge differentiator.

### 3-Layer Transmission Flow

**Layer 1 — Event Shock Layer**
Where the event originates.
Example: Iran shipping disruption.

**Layer 2 — Energy Market Transmission**
How the event changes:
- Supply flows
- Demand expectations
- Transport costs

**Layer 3 — Financial Transmission**
How markets react:
- Oil pricing
- Gas pricing
- Currency shifts
- Volatility spikes

---

### Transmission Speed Model

Different assets react at different speeds.

| Asset | Typical Reaction Lag |
|---|---|
| Freight | 0–2 days |
| TTF Gas | 1–5 days |
| Brent Oil | 2–7 days |
| EUR/USD | 3–10 days |
| VIX | 1–4 days |

---

### Transmission Strength Function

```
AssetResponse =
    EventImpact
    * TransmissionElasticity
    * LiquidityModifier
```

---

### Transmission Feedback Loop

Important advanced feature. Markets can amplify risk.

```
If VIX spike > threshold:
    Increase GERI by feedback multiplier
```

---

## PART 4 — News Ingestion Expansion Roadmap

### Phase 1 — Strengthen Core Global Coverage

**Timeline:** Immediate (1–2 months)

**Add:**
- China energy policy + LNG demand
- US LNG + shale + SPR
- Russia / Black Sea security
- Qatar + Norway LNG

**Goal:** Improve GERI predictive correlation with TTF & Brent.

---

### Phase 2 — Add Transit & Logistics Intelligence

**Timeline:** 3–6 months

**Add:**
- Suez / Red Sea shipping security
- Panama Canal drought effects
- Turkish pipeline hub developments

**Goal:** Improve freight and shipping risk modeling.

---

### Phase 3 — Demand & Macro Integration

**Timeline:** 6–12 months

**Add:**
- India demand trends
- Asia LNG spot market signals
- Global industrial energy consumption

**Goal:** Improve medium-term energy demand forecasting.

---

### Phase 4 — Structural Energy Transition Risk

**Timeline:** 12+ months

**Add:**
- Renewables intermittency risk
- Grid stability issues
- Critical minerals supply chain

**Goal:** Future-proof GERI.

---

### Source Selection Criteria

Every new source must pass:
1. Market Impact Probability
2. Signal Originality
3. Historical Correlation
4. Source Credibility

---

## Scientific Advantage

By implementing this architecture, GERI becomes:

- Not a news aggregator
- Not a sentiment index

But: **A multi-layer energy risk transmission model**

Very few commercial platforms have this.

---

## Strategic Reality Check

If you implement:
- Regional clustering
- Weighted event scoring
- Transmission modeling
- Multi-phase ingestion

**GERI becomes extremely difficult to replicate.**

---

## PART 5 — GERI Event Taxonomy System

Classifies ALL energy risk events. This is the foundation layer — everything else depends on it.

### Purpose

Event taxonomy allows GERI to:
- Score risk consistently
- Train AI classification
- Measure transmission patterns
- Enable explainability

---

### Level 1 — Primary Event Domains

Every event MUST belong to one of these.

#### Supply Disruption Events

Physical energy availability threats.

**Subcategories:**
- Pipeline disruption
- Production outage
- Sanctions on producers
- Export restrictions
- Infrastructure sabotage
- Weather-related production loss
- Labor strikes

#### Transit & Logistics Events

Energy transportation risks.

**Subcategories:**
- Chokepoint security threat
- Shipping attack
- Canal blockage
- Port congestion
- Maritime insurance shock
- Freight surge

#### Demand Shock Events

Consumption or industrial energy demand changes.

**Subcategories:**
- Industrial slowdown
- Economic stimulus
- Fuel substitution policy
- Strategic reserve usage
- Seasonal demand anomaly

#### Policy & Regulatory Events

Government interventions affecting energy markets.

**Subcategories:**
- OPEC production decision
- Energy export restrictions
- Sanctions policy expansion
- Environmental regulation
- Tax / subsidy changes
- Strategic alliances

#### Geopolitical / Military Escalation

Conflict-driven risk.

**Subcategories:**
- Military strike
- War escalation
- Regional armed conflict
- Terror attack
- Diplomatic breakdown

#### Structural Energy Transition Events

Long-term systemic risk.

**Subcategories:**
- Grid instability
- Renewables intermittency
- Critical minerals shortage
- Infrastructure modernization failure

---

### Level 2 — Event Attributes

Each event must carry:
- EventDomain
- RegionCluster
- SeverityLevel
- PersistenceType
- DirectEnergyImpact
- TransmissionType

---

### Level 3 — Severity Scoring Template

```
EventSeverity =
    PhysicalImpactScore
    + MarketPsychologyScore
    + DurationExpectationScore
```

Each scored 0–1 and weighted.

---

## PART 6 — Risk Regime Classification Engine

Defines macro energy market states.

### Regime Types

#### Normal Regime
- GERI < 35
- Low volatility
- Stable supply/demand balance

#### Tension Regime
- GERI 35–55
- Localized disruptions
- Market sensitive but stable

#### Crisis Regime
- GERI 55–75
- Multiple risk drivers
- Supply uncertainty
- Freight & gas react strongly

#### War Shock Regime
- GERI > 75
- Active military or systemic conflict
- Cross-asset volatility
- Severe supply uncertainty

#### Stabilization Regime
- GERI declining after crisis
- Markets remain volatile but normalizing

---

### Regime Detection Formula

```
RegimeScore =
    GERI_Level
    + MomentumFactor
    + RegionalConcentrationFactor
    + ContagionScore
```

**MomentumFactor** — Measures acceleration of risk.

**RegionalConcentrationFactor** — Measures if risk originates from one or multiple clusters.

**ContagionScore** — Measures cross-asset confirmation.

---

### Regime Transition Logic

```
If GERI increases AND momentum rising → Escalation regime
If GERI decreases BUT volatility remains → Stabilization regime
```

---

## PART 7 — Cross-Asset Predictive Probability Model

Predicts how markets respond to events.

### Model Goal

Estimate probability:

```
P(Asset Move | Event Type + Regime + Region)
```

### Model Structure

**Step 1 — Event Feature Vector**

```
EventVector = {
    EventDomain,
    RegionCluster,
    Severity,
    Persistence,
    RegimeState
}
```

**Step 2 — Asset Sensitivity Matrix**

Predefined sensitivity scores:

| Asset | Supply Events | Transit | Demand | Policy | War |
|---|---|---|---|---|---|
| Brent | 0.9 | 0.7 | 0.6 | 0.8 | 0.9 |
| TTF | 0.8 | 0.6 | 0.5 | 0.7 | 0.7 |
| VIX | 0.6 | 0.5 | 0.4 | 0.7 | 0.9 |

**Step 3 — Probability Function**

```
ProbabilityMove =
    Sigmoid(
        EventSeverity
        * AssetSensitivity
        * RegimeAmplifier
        * HistoricalResponseFactor
    )
```

---

### Output Types

- ProbabilityLargeMove
- ProbabilityVolatilitySpike
- ProbabilityLaggedResponse

---

### Historical Response Factor

Uses rolling historical reaction:

```
ResponseFactor = ObservedAssetMoveAfterSimilarEvents
```

---

## PART 8 — News Deduplication & Signal Scoring AI Design

Critical once sources expand.

### Problem

Multiple sources often report:
- Same event
- Slightly different wording
- At different times

If untreated → artificial risk inflation.

---

### Solution Architecture

**Step 1 — Semantic Event Clustering**

Use NLP embeddings to group articles.
Cluster if similarity > threshold.

**Step 2 — Source Credibility Weighting**

Each source gets:

```
CredibilityScore =
    HistoricalAccuracy
    + SourceAuthority
    + ReportingSpeed
```

**Step 3 — Event Confidence Score**

```
Confidence =
    NumberOfIndependentSources
    * AverageCredibility
    * ContentConsistency
```

**Step 4 — Temporal Deduplication**

If multiple articles occur within time window:
Merge into single EventObject.

**Step 5 — Signal Amplification Guard**

Prevent overcounting:

```
If EventClusterDetected:
    Apply diminishing returns function
```

---

### Event Clustering Output Object

```
EventCluster {
    PrimaryEventSummary,
    Region,
    Domain,
    SeverityScore,
    ConfidenceScore,
    SourceList,
    Timestamp
}
```

---

### Advanced Feature — AI Event Summarization

Each cluster generates:
- AI Risk Summary
- Impact Expectation
- Affected Assets
- Confidence Level

---

### Signal Quality Index

New internal metric. Measures:

```
SignalQuality =
    ConfidenceScore
    * SourceDiversity
    * HistoricalAccuracyAlignment
```

---

## System Integration Flow

```
News → Deduplication → Taxonomy → Severity Scoring → Regime Detection → Asset Prediction → GERI Calculation
```

---

## Strategic Power of This Architecture

You are building:
- A global energy risk ontology
- A dynamic market regime detector
- A predictive asset behavior engine
- A self-cleaning news intelligence system

That combination is extremely rare.

---

## Final Reality Check

If you implement this stack, GERI becomes closer to institutional geopolitical risk models than typical SaaS dashboards.

---

## PART 9 — GERI Machine Learning Training Pipeline

### Goal

Learn (a) event → risk score mapping and (b) event/regime → asset reaction probabilities, using historical GERI + asset data + labeled event clusters.

---

### Data Objects You Train On

#### A. EventCluster (from dedup layer)

- event_id, timestamp, region_cluster, event_domain, subcategory
- severity_raw, confidence, persistence_estimate
- text_features (embedding + keywords + entities)
- supply_transit_demand_policy_war indicators
- chokepoint_flag, producer_flag, LNG_flag

#### B. Market Context (daily features)

- GERI_t, ΔGERI_1D, ΔGERI_7D, momentum, band
- Asset returns/volatility features: r_brent, r_ttf, r_vix, r_eurusd
- Rolling vol (e.g., 7D/30D), rolling corr, lag metrics
- EU Storage context: level %, weekly delta, seasonal percentile

---

### Labels (What You Predict)

Two model families:

#### Model Family 1 — Risk Impact on GERI (event → ΔGERI)

- Label: `y_risk = ΔGERI_{t+1}` (or 1–3 day horizon)
- Optional: classification label `risk_jump = 1 if ΔGERI_{t+1} >= threshold`

#### Model Family 2 — Cross-Asset Reaction (event/regime → asset move probability)

For each asset:
- `y_up = 1 if r_asset_{t+h} > +k`
- `y_down = 1 if r_asset_{t+h} < -k`
- `y_bigmove = 1 if |r_asset_{t+h}| > k_big`
- `y_vol_spike = 1 if vol_{t+h} > vol_threshold`

Horizons: h ∈ {1D, 3D, 7D}

---

### Training Flow

**1. Ingest & Version Data**
Freeze daily snapshots (features + labels) with a dataset version id.

**2. Event Labeling / Alignment**
Align EventClusters to trading days:
`event_day = nearest_market_day(timestamp)`
For multi-day events, create "event active" features.

**3. Feature Engineering**
Use stable, explainable features:
- Event domain/region, severity, confidence
- Regime state at event time
- Recent market state (rolling vol, corr, lag)
- Storage buffer context

**4. Split Strategy (time series)**
Walk-forward split (no random shuffling):
- Train: oldest 70%
- Validate: next 15%
- Test: most recent 15%

**5. Model Choice (pragmatic)**
Start with:
- Regularized logistic regression / gradient boosting for probabilities
- Linear/robust regression for ΔGERI
- Add calibration (see below)

**6. Calibration**
Probability outputs must be calibrated:
Platt scaling or isotonic calibration per asset/horizon.

**7. Model Registry**
Store:
- Model version, feature schema version, training window
- Performance metrics, calibration params

**8. Daily Inference**
As new clusters arrive + daily asset close prints:
- Compute features
- Run inference
- Cache outputs in `signals_daily`

---

## PART 10 — Backtesting & Validation Framework

### Goal

Prove (and continuously verify) that:
- GERI + signals lead or explain asset moves better than naive baselines
- Alert triggers reduce false positives while catching real stress

---

### What You Backtest

#### A. Predictive Skill (event → asset move)

Metrics per asset and horizon:
- AUC (classification skill)
- Brier score (probability accuracy)
- Calibration curves (reliability)
- Precision/Recall at top-k alerts

Baselines to beat:
- "No info" baseline (historical average probability)
- Simple heuristic baseline (e.g., only use severity threshold)

#### B. Lead/Lag Validity (GERI vs assets)

Test whether:
- `corr(g_t, r_{t+L})` has stable peaks by regime
- Divergence Z-scores predict mean reversion or future moves

#### C. Regime Engine Validation

Measure:
- How often regimes correspond to elevated asset vol
- Regime transition precision (did "War Shock" coincide with vol spikes?)

#### D. Alerting Performance

You want:
- High true positive rate for big moves / volatility spikes
- Low alert fatigue

Metrics:
- Alert hit-rate: % alerts followed by event outcome within h days
- False positive rate
- Mean time to signal (how early before move)
- Alerts per week per user (fatigue proxy)

---

### Backtest Mechanics (time-consistent)

Use walk-forward simulation:

```
For each day t in backtest window:
    Use only data available up to t
    Compute features, infer probabilities, compute divergence metrics
    Generate alerts (using your thresholds)
    Observe outcomes at t+h
    Log results
```

---

### Reporting Outputs (marketing-ready)

Generate weekly/monthly:
- "In high-risk regimes, model caught X% of top-quartile TTF moves with Y alerts/week"
- "Calibration: predicted 60% buckets realized at ~58–62%"
- "Lead times: median signal lead = Z days for TTF"

---

## PART 11 — Real-Time Alert Prioritization Engine

### Goal

When multiple signals trigger, decide:
- What is most important
- Who should get it
- How urgently
- How often

---

### Inputs (streaming + daily)

- EventClusters (severity/confidence/persistence)
- Current GERI level + momentum
- Cross-asset probabilities (per asset/horizon)
- Divergence score per asset
- Regime state + transition markers
- User plan + user preferences (assets/regions)

---

### Alert Priority Score (core formula)

For a candidate alert `a`:

```
Priority(a) = 100 * Severity(a) * Confidence(a) * Urgency(a) * Relevance(user,a) * Novelty(a)
```

Where:

**Severity(a)** (0–1)
From EventCluster severity and/or predicted big move probability.

**Confidence(a)** (0–1)
Dedup confidence + model confidence + source credibility.

**Urgency(a)** (0–1)
Higher if:
- Regime just escalated
- Momentum spike
- Predicted horizon is near-term (1D > 7D)

**Relevance(user,a)** (0–1)
- Matches user's selected assets/regions
- Plan-based (Pro gets multi-asset systemic alerts)

**Novelty(a)** (0–1)
Avoid repeats:
- Downweight if similar alert sent in last N hours
- Downweight if same cluster id already alerted

---

### Alert Classes (what you send)

**Regime Shift Alerts**
"GERI entered High/Severe"
Always high priority.

**Divergence Alerts**
"TTF decoupling from risk"
Higher priority if |D| >= 2 and confidence high.

**Cross-Asset Confirmation Alerts**
"Risk now systemic: VIX + Brent confirming"
Higher priority when C_total rises quickly.

**Event Impact Alerts**
"Chokepoint threat with high confidence"
Higher priority if persistence high.

---

### Rate Limits & Fatigue Controls

Per user:
- max_alerts_per_day by plan (Free: none; Personal: low; Pro: higher)
- Cool-down per alert class (e.g., divergence: 12h)
- Digest fallback: if too many alerts, send one "stacked digest"

---

### Delivery Policy by Plan

| Plan | Policy |
|---|---|
| Free | No alerts |
| Personal | Daily digest only (top 1–3) |
| Trader | Real-time for regime shifts + top priority divergence |
| Pro | Real-time for all classes + confirmations + response strength |
| Enterprise | Real-time + custom rules + team routing |

---

## PART 12 — User-Facing Risk Explainability Layer

### Goal

Make every number feel:
- Credible
- Interpretable
- Action-oriented (without financial advice)
- Not giving away your secret sauce

---

### Explainability "4-Box" UI (recommended)

Every alert or chart state should render these:

**What**
"GERI is High (72/100), accelerating"

**Why**
"Main drivers: Transit risk + Sanctions escalation (High confidence)"
Use taxonomy + clusters, not raw sources.

**So What**
"Historically in this regime, TTF reacts within 1–5 days"
"Market confirmation: Mixed/Strong"

**What to Watch**
"Watch TTF + Freight for confirmation; storage buffer moderates downside risk"

---

### Explainability Objects (storeable)

For each day:
- `explain_summary`: 2–4 bullets
- `top_drivers`: (domain, region_cluster, severity_band)
- `market_state`: (regime, confirmation score label)
- `asset_notes`: per asset (lead/lag, divergence status)
- `confidence_badge`: Low/Med/High

---

### Confidence Badge Logic

```
ConfidenceBadge = f(
    source_diversity,
    dedup_confidence,
    model_calibration_quality,
    agreement_across_assets
)
```

Simple rules:
- **High** if: cluster confidence high AND calibration stable AND confirmation score strong
- **Medium** if mixed
- **Low** if single-source / contradictory markets

---

### "Don't Reveal Too Much" Rule

Explain in layers:
- **Free/Personal:** "Why" is category-level
- **Trader:** Adds lag + divergence labels
- **Pro:** Adds predicted response + confirmation score mechanics (still not full formulas)
- **Enterprise:** Can show more, optionally

---

### Template Library (deterministic)

Use templates bound to:
- Regime transitions
- Divergence triggers
- Confirmation changes
- Event clusters

Output should always be:
- Short
- Structured
- Consistent tone
- No hype

---

## How All Four Systems Fit Together

```
Training Pipeline    → produces calibrated probabilities + confidence
Backtesting          → proves reliability + sets thresholds
Alert Engine         → decides what matters now and prevents fatigue
Explainability Layer → turns it into trust and retention
```

---

## PART 13 — GERI Evolution Model (4-Layer Architecture)

### Proposed Evolution Model

GERI evolves from a single index into a multi-layer intelligence stack — without breaking the public-facing number that users trust.

---

### Layer 1 — Base GERI (Keep Intact)

Your existing calculation remains:
- Official index baseline
- Historical continuity
- Public trust anchor

This becomes:

```
GERI_BASE
```

The original GERI formula is preserved exactly as-is. All historical values remain valid. This is the number users see and reference.

---

### Layer 2 — Enhanced Event Intelligence

Add:
- Event taxonomy (Part 5)
- Deduplication AI (Part 8)
- Regional weighting (Part 1)
- Contagion modeling (Part 3)

Output:

```
GERI_ENHANCED_EVENT_SCORE
```

This layer improves the quality and accuracy of event scoring without changing the public index. Better source deduplication, taxonomy-based severity, and regional transmission weights feed into a richer event signal.

---

### Layer 3 — Predictive Intelligence

Add:
- Cross-asset probability models (Part 7)
- Lag intelligence (Part 2)
- Divergence models (Part 2)

Output:

```
GERI_FORWARD_SIGNALS
```

This layer adds forward-looking capability. Instead of only reflecting current risk, the system begins to predict how markets will respond — and when.

---

### Layer 4 — Regime & Explanation Layer

Add:
- Risk regimes (Part 6)
- Narrative engine (Part 12)
- User explainability (Part 12)

Output:

```
GERI_INTERPRETATION_ENGINE
```

This layer turns raw numbers into structured intelligence. Regime classification, confidence badges, and the 4-box explainability UI make every data point interpretable and actionable.

---

### The Result

Users still see:

```
"GERI"
```

But internally you have four distinct engines:

```
GERI_CORE       ← Layer 1: Base index (public-facing number)
GERI_ANALYTICS  ← Layer 2: Enhanced event intelligence (better inputs)
GERI_FORECAST   ← Layer 3: Predictive signals (forward-looking)
GERI_EXPLAIN    ← Layer 4: Regime + narrative (user-facing interpretation)
```

This architecture means:
- The public index never breaks
- Each layer can be developed, tested, and deployed independently
- Subscription tiers can unlock deeper layers progressively
- The system evolves from a risk index into a full intelligence platform
